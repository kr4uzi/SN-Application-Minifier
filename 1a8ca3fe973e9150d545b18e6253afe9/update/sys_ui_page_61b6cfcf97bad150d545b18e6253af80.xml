<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_page">
    <sys_ui_page action="INSERT_OR_UPDATE">
        <category>general</category>
        <client_script><![CDATA[/* global jslog, addLoadEvent, gel, getMessage, GlideDialogWindow, GlideAjax */
/* eslint no-undef: "error" */
addLoadEvent(function() {
	var loadingElement = gel('x_376096_minify_confirm_loading');
	var contentBlock = gel('x_376096_minify_confirm_content');
    var contentText = gel('x_376096_minify_confirm_content_text');
	
	var gdw = GlideDialogWindow.get();
	var appSysID = gdw.getPreference('app_sys_id');
	var ga = new GlideAjax('x_376096_minify.MinifyClient');
	ga.addParam('sysparm_name', 'previewMinifyApp');
	ga.addParam('app_sys_id', appSysID);
	ga.getXMLAnswer(function (answer) {
		loadingElement.style.display = 'none';

		if (answer) {
			var result = JSON.parse(answer);
			if (result.status == 'success') {
				var preview = result.preview;

				getMessage('x_376096_minify_confirm_minify_app', function (msg) {
					contentBlock.style.display = '';
					contentText.innerText = msg.withValues([preview.count]);
				});
			} else {
				x_376096_minify_confirm_showError(result.message);
			}
		} else {
			getMessage('x_376096_minify_failed_to_generate_app_preview', function (msg) {
				x_376096_minify_confirm_showError(msg);
			});
		}
	});
});

function x_376096_minify_confirm_showError(errorMessage) {
	var errorMessageElement = gel('x_376096_minify_select_application_error_message');
	errorMessageElement.innerText = errorMessage;
	errorMessageElement.style.display = '';
}

function x_376096_minify_confirm_OK() {
	var gdw = GlideDialogWindow.get();
	var onSubmit = gdw.getPreference('onSubmit');
	if (onSubmit && typeof onSubmit == 'function') {
		try {
			onSubmit.call(gdw);
		} catch (e) {
			jslog(e);
			gdw.destroy();
		}
	} else {
		gdw.destroy();
	}
}

function x_376096_minify_confirm_Cancel() {
	var gdw = GlideDialogWindow.get();
	gdw.destroy();
}]]></client_script>
        <description/>
        <direct>false</direct>
        <endpoint>x_376096_minify_confirm_minify_app.do</endpoint>
        <html><![CDATA[<?xml version="1.0" encoding="utf-8" ?>
<j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null">
	<img id="x_376096_minify_confirm_loading" alt="${gs.getMessage('Please Wait')}" src="images/please_wait.gifx" />
	<div class="container" id="x_376096_minify_confirm_content" style="width: 100%; display: none;">
		<div class="row">
			<p class="col-md-12" id="x_376096_minify_confirm_content_text"></p>
		</div>
		<div class="row">
			<div class="col-md-12 text-right">
				<g:dialog_buttons_ok_cancel
					ok_text = "${gs.getMessage('Continue')}"
					ok_id   = "x_376096_confirm_ok"
					ok      = "return x_376096_minify_confirm_OK();"
					ok_type = "button"

					cancel      = "return x_376096_minify_confirm_Cancel();"
					cancel_id   = "x_376096_confirm_cancel"
					cancel_type = "button"
				/>
			</div>
		</div>
	</div>
	<p id="x_376096_minify_select_application_error_message" stlye="display: none;"></p>
</j:jelly>]]></html>
        <name>confirm_minify_app</name>
        <processing_script/>
        <sys_class_name>sys_ui_page</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-11-01 07:28:09</sys_created_on>
        <sys_id>61b6cfcf97bad150d545b18e6253af80</sys_id>
        <sys_name>confirm_minify_app</sys_name>
        <sys_package display_value="Application Minifier" source="x_376096_minify">1a8ca3fe973e9150d545b18e6253afe9</sys_package>
        <sys_policy/>
        <sys_scope display_value="Application Minifier">1a8ca3fe973e9150d545b18e6253afe9</sys_scope>
        <sys_update_name>sys_ui_page_61b6cfcf97bad150d545b18e6253af80</sys_update_name>
    </sys_ui_page>
</record_update>
